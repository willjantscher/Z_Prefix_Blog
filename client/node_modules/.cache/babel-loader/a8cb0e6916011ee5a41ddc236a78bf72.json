{"ast":null,"code":"import _slicedToArray from\"/Users/williamjantscher/Z_Prefix_App/z_prefix_blog/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useNavigate}from'react-router-dom';import Axios from'axios';// const port = \"http://localhost:8080\"\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var port=\"https://jantscher-z-prefix-blog.herokuapp.com\";function _Post_creation_page(){var navigate=useNavigate();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),postTitle=_useState2[0],setPostTitle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),postContent=_useState4[0],setPostContent=_useState4[1];var makePost=function makePost(){// console.log(postTitle + postContent);\nvar date=new Date();var formatted_date=date.toISOString().split('T')[0];var body={userId:localStorage.getItem(\"id\"),title:postTitle,content:postContent,date:formatted_date};if(postTitle!==\"\"&&postContent!==\"\"){//check if user authenticated before posting\nAxios.get(\"\".concat(port,\"/isUserAuth\"),{headers:{\"x-access-token\":localStorage.getItem(\"token\")}}).then(function(res){// console.log(res.data);\nif(res.data){//post to db if user authenticated\nAxios.post(\"\".concat(port,\"/api/post\"),body).then(navigate(\"/myposts\"));}else{console.log(\"user not authorized\");}});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"post_creation_page>\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create New Produce for Consumption\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row justify-content-md-center pb-2 pt-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-md-1 pt-2\",children:\"Title: \"}),/*#__PURE__*/_jsx(\"input\",{style:{height:'35px',fontSize:'15px',borderRadius:'3px'},className:\"col-md-3\",id:\"title\",name:\"Title\",placeholder:\"Title\",onChange:function onChange(e){setPostTitle(e.target.value);}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row mb-3\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container pt-2\",children:/*#__PURE__*/_jsx(\"textarea\",{style:{height:'250px',fontSize:'15px',borderRadius:'3px'},className:\"col-md-10\",id:\"content\",name:\"Content\",placeholder:\"Content\",onChange:function onChange(e){setPostContent(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"container pt-2\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Date:\",new Date().toISOString().split('T')[0]]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"\",value:\"\",style:{cursor:\"pointer\"},onClick:makePost,children:\"Post This Great Content\"})})]});}export default _Post_creation_page;//USER STORIES\n//As a blogger I want to be able to create a new post so that I can share my insights with the world.\n//A post displays title, content, and creation date.\n//After the post is created, the blogger should be redirected to all of their blog posts.\n//will want to alert if inputs not filled if time","map":{"version":3,"sources":["/Users/williamjantscher/Z_Prefix_App/z_prefix_blog/client/src/_Post_creation_page.js"],"names":["React","useState","useNavigate","Axios","port","_Post_creation_page","navigate","postTitle","setPostTitle","postContent","setPostContent","makePost","date","Date","formatted_date","toISOString","split","body","userId","localStorage","getItem","title","content","get","headers","then","res","data","post","console","log","height","fontSize","borderRadius","e","target","value","cursor"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Axios from 'axios';\n\n// const port = \"http://localhost:8080\"\nconst port = \"https://jantscher-z-prefix-blog.herokuapp.com\"\n\n\nfunction _Post_creation_page()\n{\n    const navigate = useNavigate();\n    const [postTitle, setPostTitle] = useState('');\n    const [postContent, setPostContent] = useState('');\n\n    const makePost = () => {\n        // console.log(postTitle + postContent);\n        let date = new Date();\n        let formatted_date = date.toISOString().split('T')[0];\n\n        let body = {\n            userId: localStorage.getItem(\"id\"),\n            title: postTitle,\n            content: postContent,\n            date: formatted_date\n        }\n\n        if(postTitle !== \"\" && postContent !== \"\") {\n            //check if user authenticated before posting\n            Axios.get(`${port}/isUserAuth`, {headers: {\n                \"x-access-token\": localStorage.getItem(\"token\"),\n                }}).then((res) => {\n                // console.log(res.data);\n                if (res.data) { //post to db if user authenticated\n            Axios.post(`${port}/api/post`,body).then(navigate(\"/myposts\"))\n                } else {    \n                    console.log(\"user not authorized\")\n                }\n            })\n        }\n    }\n\n    return(\n        <div className=\"post_creation_page>\">\n            <h2>Create New Produce for Consumption</h2>\n                <div className='container'>\n                    <div className='row justify-content-md-center pb-2 pt-2'>\n                        <label className='col-md-1 pt-2'>Title: </label>\n                        <input \n                                style={{height:'35px', fontSize:'15px', borderRadius:'3px'}}\n                                className='col-md-3'\n                                id=\"title\"\n                                name=\"Title\"\n                                placeholder=\"Title\"\n                                onChange={(e) => {\n                                    setPostTitle(e.target.value)}}\n                        ></input>\n                    </div>\n                </div>\n                <div className=\"row mb-3\"></div>\n                <div className='container pt-2'>\n                    <textarea \n                            style={{height:'250px', fontSize:'15px', borderRadius:'3px'}}\n                            className=\"col-md-10\"\n                            id=\"content\"\n                            name=\"Content\"\n                            placeholder=\"Content\"\n                            onChange={(e) => {\n                                setPostContent(e.target.value)}}                        \n                    ></textarea>\n                </div>\n                <div className='container pt-2'></div>\n                <div>\n                    <label>Date:\n                        {new Date().toISOString().split('T')[0]}\n                    </label>\n                </div>\n\n                <div>\n                    <button className=\"\" value=\"\" style={{cursor: \"pointer\"}} onClick={makePost}>Post This Great Content</button>\n                </div>\n\n\n        </div>\n    )\n}\n\nexport default _Post_creation_page;\n\n//USER STORIES\n//As a blogger I want to be able to create a new post so that I can share my insights with the world.\n//A post displays title, content, and creation date.\n//After the post is created, the blogger should be redirected to all of their blog posts.\n\n\n//will want to alert if inputs not filled if time"]},"metadata":{},"sourceType":"module"}